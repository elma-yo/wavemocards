<!DOCTYPE html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- 手機版網頁 CSS Reset 螢幕解析度 Reset -->
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0" />
    <title>浪潮情緒卡｜情緒卡-分類</title>
    <!-- Bootstrap icon -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <!-- Bootstrap css -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
  </head>
  <body>ｚ
    <%- include('./layout/headerLoggedIn'); -%>
    <main>
      <div class="container py-16 pt-72" id="top">
        <!-- 標題 -->
        <div class="titleBar d-flex justify-content-between align-items-center">
          <h2>認識情緒</h2>
          <div class="nav-btn d-flex justify-content-end">
            <a class="btn btn-outline-main c-btn" href="aboutEmotions.html">關於情緒</a>
            <div class="ms-16 btn-disable">情緒卡</div>
          </div>
        </div>
        <!-- 導覽說明 -->
        <div class="guid px-24 py-16 bg-main-tint03">
          <p class="mb-8">你在情緒的世界裡迷航了嗎？</p>
          <p class="mb-8">沒關係，讓我們一起在浪潮情緒卡中，找尋自己的情緒。</p>
          <p class="mb-8">
            你可以藉由以下兩種方式「
            <a class="px-4" href="#emoCardsTitle">情緒卡</a>
            」、「
            <a class="px-4" href="#emoTableTitle">情緒表</a>
            」，瀏覽與認識各種情緒。
          </p>
          <p class="mb-8">
            此外，若您想增加新的情緒卡・詞彙，可以點選「
            <a class="px-4" href="addEmoCard.html">新增情緒卡</a>
            」，新增情緒卡。
          </p>
          <p class="text-gray-600">
            🔎 若你想要挑選與紀錄你的情緒，請點選「<a class="px-4 link-gray-600" style="font-size: 16px;" href="findMyEmoitons.html">找尋我的情緒</a>」。
          </p>
        </div>
  
        <!-- 情緒卡 -->
        <div id="emoCardsTitle" style="height: 56px;"></div>
        <div class="titleBar d-flex justify-content-between align-items-center">
          <h2>情緒卡</h2>
          <div class="nav-btn d-flex justify-content-end">
            <div class="btn-disable">分類</div>
            <a class="ms-16 btn btn-outline-main c-btn" href="emoCardsClassifiedExpand.html">展開</a>
          </div>
        </div>
        <!-- 卡片分類 -->
        <div class="d-flex flex-wrap">
          <a class="class-card me-16 bg-happy link-gray-900 class-card-happy" href="emoCardsHappy.html">
            <p>快&nbsp;樂</p>
            <div class="img-box">
              <img src="https://wavemocards.com/frontend/upload/01-happy/happy02-happy.svg" alt="快樂">
            </div>
          </a>
          <a class="class-card me-16 bg-expectation link-gray-900 class-card-expectation" href="emoCardsExpectation.html">
            <p>期&nbsp;待</p>
            <div class="img-box">
              <img src="https://wavemocards.com/frontend/upload/02-expectation/expaction01-expect.svg" alt="期待">
            </div>
          </a>
          <a class="class-card me-16 bg-relived link-gray-900 class-card-relived" href="emoCardsRelived.html">
            <p>安&nbsp;心</p>
            <div class="img-box">
              <img src="https://wavemocards.com/frontend/upload/03-relived/relived04-relieved.svg" alt="安心">
            </div>
          </a>
          <a class="class-card me-16 bg-unstable link-gray-900 class-card-unstable" href="emoCardsUnstable.html">
            <p>不&nbsp;安</p>
            <div class="img-box">
              <img src="https://wavemocards.com/frontend/upload/04-unstable/unstable04-anxious.svg" alt="不安">
            </div>
          </a>
          <a class="class-card me-16 bg-amazed link-gray-900 class-card-amazed" href="emoCardsAmazed.html">
            <p>驚&nbsp;訝</p>
            <div class="img-box">
              <img src="https://wavemocards.com/frontend/upload/05-amazed/amazed02-astonishment.svg" alt="驚訝">
            </div>
          </a>
          <a class="class-card me-16 bg-sadness link-gray-900 class-card-sadness" href="emoCardsSadness.html">
            <p>低&nbsp;落</p>
            <div class="img-box">
              <img src="https://wavemocards.com/frontend/upload/06-sadness/sadness05-frustrated.svg" alt="低落">
            </div>
          </a>
          <a class="class-card me-16 bg-hate link-gray-900 class-card-hate" href="emoCardsHate.html">
            <p>討&nbsp;厭</p>
            <div class="img-box">
              <img src="https://wavemocards.com/frontend/upload/07-hate/hate03-inferiority.svg" alt="討厭">
            </div>
          </a>
          <a class="class-card me-16 bg-anger link-gray-900 class-card-anger" href="emoCardsAnger.html">
            <p>生&nbsp;氣</p>
            <div class="img-box">
              <img src="https://wavemocards.com/frontend/upload/08-anger/anger02-irritated.svg" alt="生氣">
            </div>
          </a>
          <a class="class-card me-16 bg-others link-gray-900 class-card-others" href="emoCardsOthers.html">
            <p>其&nbsp;他</p>
            <div class="img-box">
              <img src="https://wavemocards.com/frontend/upload/09-others/others01-release.svg" alt="其他">
            </div>
          </a>
        </div>
  
        <!-- 情緒表 -->
        <div id="emoTableTitle" style="height: 56px;"></div>
        <div class="titleBar">
          <h2>情緒表</h2>
        </div>
        <p class="mb-32 text-gray-550">
          🔎 請點擊下方各個情緒名詞，展開詳細情緒資訊。
        </p>
        <div class="mb-8 d-flex flex-nowrap">
          <a href="emoCardsHappy.html" class="emoTableHead me-8 btn btn-emoTable btn-happy fw-700 d-flex align-items-center text-nowrap">快樂</a>
          <div class="d-flex overflow-auto" id="buttonsHappy">
          </div>
        </div>
        
        <div class="mb-8 d-flex flex-nowrap">
          <a href="emoCardsExpectation.html" class="emoTableHead me-8 btn btn-emoTable btn-expectation fw-700 d-flex align-items-center text-nowrap">期待</a>
          <div class="d-flex overflow-auto" id="buttonsExpectation">
          </div>
        </div>
        
        <div class="mb-8 d-flex flex-nowrap">
          <a href="emoCardsRelived.html" class="emoTableHead me-8 btn btn-emoTable btn-relived fw-700 d-flex align-items-center text-nowrap">安心</a>
          <div class="d-flex overflow-auto" id="buttonsRelived">
          </div>
        </div>
        
        <div class="mb-8 d-flex flex-nowrap">
          <a href="emoCardsUnstable.html" class="emoTableHead me-8 btn btn-emoTable btn-unstable fw-700 d-flex align-items-center text-nowrap">不安</a>
          <div class="d-flex overflow-auto" id="buttonsUnstable">
          </div>
        </div>
        
        <div class="mb-8 d-flex flex-nowrap">
          <a href="emoCardsAmazed.html" class="emoTableHead me-8 btn btn-emoTable btn-amazed fw-700 d-flex align-items-center text-nowrap">驚訝</a>
          <div class="d-flex overflow-auto" id="buttonsAmazed">
          </div>
        </div>
        
        <div class="mb-8 d-flex flex-nowrap">
          <a href="emoCardsSadness.html" class="emoTableHead me-8 btn btn-emoTable btn-sadness fw-700 d-flex align-items-center text-nowrap">低落</a>
          <div class="d-flex overflow-auto" id="buttonsSadness">
          </div>
        </div>
        
        <div class="mb-8 d-flex flex-nowrap">
          <a href="emoCardsHate.html" class="emoTableHead me-8 btn btn-emoTable btn-hate fw-700 d-flex align-items-center text-nowrap">討厭</a>
          <div class="d-flex overflow-auto" id="buttonsHate">
          </div>
        </div>
        
        <div class="mb-8 d-flex flex-nowrap">
          <a href="emoCardsAnger.html" class="emoTableHead me-8 btn btn-emoTable btn-anger fw-700 d-flex align-items-center text-nowrap">生氣</a>
          <div class="d-flex overflow-auto" id="buttonsAnger">
          </div>
        </div>
        
        <div class="mb-72 d-flex flex-nowrap">
          <a href="emoCardsOthers.html" class="emoTableHead me-8 btn btn-emoTable btn-others fw-700 d-flex align-items-center text-nowrap">其他</a>
          <div class="d-flex overflow-auto" id="buttonsOthers">
          </div>
        </div>
      </div>
    </main>

    <%- include('./layout/floatButton') -%>

    <!-- modalEmoCards -->
    <ul class="list">
      <li></li>
    </ul>
    
    <%- include('./layout/footer'); -%>

    <%- include('./layout/baseJs'); -%>
    <script>
      const buttonsHappy = document.querySelector('#buttonsHappy');
      const buttonsExpectation = document.querySelector('#buttonsExpectation');
      const buttonsRelived = document.querySelector('#buttonsRelived');
      const buttonsUnstable = document.querySelector('#buttonsUnstable');
      const buttonsAmazed = document.querySelector('#buttonsAmazed');
      const buttonsSadness = document.querySelector('#buttonsSadness');
      const buttonsHate = document.querySelector('#buttonsHate');
      const buttonsAnger = document.querySelector('#buttonsAnger');
      const buttonsOthers = document.querySelector('#buttonsOthers');
      const listModal = document.querySelector('.list');


      axios.get("http://api.wavemocards.com/emotions?requirement=cards")
      .then(function(response){
        let aryData = Object.values(response.data); // 轉成「陣列」
        console.log(response.data);
        // 情緒表 各個情緒的按鈕
        initEmlTable();
        function initEmlTable() {
          let strHappy = "";
          let strExpectation = "";
          let strRelived = "";
          let strUnstable = "";
          let strAmazed = "";
          let strSadness = "";
          let strHate = "";
          let strAnger = "";
          let strOthers = "";
          aryData.forEach(function(data, i) {
            let category = aryData[i].Category;
            let emoName = aryData[i].Name;
            if (category == "快樂") {
              let content = `<button type="button" class="me-8 btn btn-emoTable btn-happy opacity-happy text-nowrap" data-bs-toggle="modal" data-bs-target="#emo${i}">${emoName}</button>`;
              strHappy+=content;
            } else if (category == "期待") {
              let content = `<button type="button" class="me-8 btn btn-emoTable btn-expectation opacity-expectation text-nowrap" data-bs-toggle="modal" data-bs-target="#emo${i}">${emoName}</button>`;
              strExpectation+=content;
            } else if (category == "安心") {
              let content = `<button type="button" class="me-8 btn btn-emoTable btn-relived opacity-relived text-nowrap" data-bs-toggle="modal" data-bs-target="#emo${i}">${emoName}</button>`;
              strRelived+=content;
            } else if (category == "不安") {
              let content = `<button type="button" class="me-8 btn btn-emoTable btn-unstable opacity-unstable text-nowrap" data-bs-toggle="modal" data-bs-target="#emo${i}">${emoName}</button>`;
              strUnstable+=content;
            } else if (category == "驚訝") {
              let content = `<button type="button" class="me-8 btn btn-emoTable btn-amazed opacity-amazed text-nowrap" data-bs-toggle="modal" data-bs-target="#emo${i}">${emoName}</button>`;
              strAmazed+=content;
            } else if (category == "低落") {
              let content = `<button type="button" class="me-8 btn btn-emoTable btn-sadness opacity-sadness text-nowrap" data-bs-toggle="modal" data-bs-target="#emo${i}">${emoName}</button>`;
              strSadness+=content;
            } else if (category == "討厭") {
              let content = `<button type="button" class="me-8 btn btn-emoTable btn-hate opacity-hate text-nowrap" data-bs-toggle="modal" data-bs-target="#emo${i}">${emoName}</button>`;
              strHate+=content;
            } else if (category == "生氣") {
              let content = `<button type="button" class="me-8 btn btn-emoTable btn-anger opacity-anger text-nowrap" data-bs-toggle="modal" data-bs-target="#emo${i}">${emoName}</button>`;
              strAnger+=content;
            } else if (category == "其他") {
              let content = `<button type="button" class="me-8 btn btn-emoTable btn-others opacity-others text-nowrap" data-bs-toggle="modal" data-bs-target="#emo${i}">${emoName}</button>`;
              strOthers+=content;
            }
            buttonsHappy.innerHTML = strHappy;
            buttonsExpectation.innerHTML = strExpectation;
            buttonsRelived.innerHTML = strRelived;
            buttonsUnstable.innerHTML = strUnstable;
            buttonsAmazed.innerHTML = strAmazed;
            buttonsSadness.innerHTML = strSadness;
            buttonsHate.innerHTML = strHate;
            buttonsAnger.innerHTML = strAnger;
            buttonsOthers.innerHTML = strOthers;
          })
        }
        // 大情緒卡 Modal
        initModal();
        function initModal() {
          let strModal = "";
          let emo;
          aryData.forEach(function(data, i){
            if(data.Category == "快樂") {
              emo = "happy";
            } else if (data.Category == "期待") {
              emo = "expectation";
            } else if (data.Category == "安心") {
              emo = "relived";
            } else if (data.Category == "不安") {
              emo = "unstable";
            } else if (data.Category == "驚訝") {
              emo = "amazed";
            } else if (data.Category == "低落") {
              emo = "sadness";
            } else if (data.Category == "討厭") {
              emo = "hate";
            } else if (data.Category == "生氣") {
              emo = "anger";
            } else if (data.Category == "其他") {
              emo = "others";
            }
            let content = `
              <li>
                <div class="modal fade px-32" id="emo${i}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                  <div class="modal-dialog modal-dialog-centered c-modal-xl-card">
                    <div class="modal-content bg-${emo}">
                      <div class="modal-body d-flex justify-content-between align-items-center">
                        <div class="text">
                          <div class="title w-100 mb-20 d-flex justify-content-between  align-items-end">
                            <h2>${data.Name}</h2>
                            <a href="modifyEmoCard.html" role="button">
                                <i class="bi bi-pencil-square"></i>
                            </a>
                          </div>
                          <div class="mb-16">
                            <h3 class="mb-4">意思：</h3>
                            <p>${data.Description}</p>
                          </div>
                          <div>
                            <h3 class="mb-4">例句：</h3>
                            <p>${data.Example}</p>
                          </div>
                        </div>
                        <div class="img">
                          <img class="w-100" src="https://wavemocards.com/frontend/upload/01-happy/happy01-statisfy.svg" alt="${data.Name}">
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </li>`;
              strModal+=content;
            })
          listModal.innerHTML = strModal;
        }
      })
    </script>
  </body>
</html>